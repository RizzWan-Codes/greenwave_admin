<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>GreenWave</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/169/169367.png" />
  <style>
    html { scroll-behavior: smooth; }
    .gradient-text {
      background: linear-gradient(90deg, #00c853, #fdd835);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    input[type="range"] {
      -webkit-appearance: none;
      width: 100%;
      height: 12px;
      border-radius: 9999px;
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.15);
      cursor: pointer;
      position: relative;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fdd835 0%, #00c853 100%);
      border: 2px solid rgba(255, 255, 255, 0.8);
      box-shadow: 0 0 10px rgba(0, 200, 83, 0.5);
      transform: translateY(-1px);
    }
    input[type="range"]::-moz-range-thumb {
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fdd835 0%, #00c853 100%);
      border: 2px solid rgba(255, 255, 255, 0.8);
      box-shadow: 0 0 10px rgba(0, 200, 83, 0.5);
    }

    /* ===== RESPONSIVE FIXES FOR CALCULATORS SECTION ===== */
  @media (max-width: 1024px) {
    #calculators {
      padding: 3rem 1rem;
      overflow-x: hidden;
    }
    #calculators .grid {
      grid-template-columns: 1fr !important;
    }
  }

  @media (max-width: 768px) {
    #calculators {
      padding-left: 1rem;
      padding-right: 1rem;
    }

    #calculators input[type="range"] {
      width: 100%;
    }

    #calculators .bg-white {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      border-radius: 0.75rem;
      padding: 1rem;
    }

    #calculators canvas {
      max-width: 100%;
      width: 100% !important;
      height: auto !important;
    }

    #calculators .text-3xl {
      font-size: 1.75rem;
      line-height: 2rem;
    }

    #calculators .text-2xl {
      font-size: 1.25rem;
    }

    #calculators .p-6 {
      padding: 1rem !important;
    }

    #calculators .rounded-xl {
      border-radius: 0.75rem;
    }
  }

  @media (max-width: 480px) {
    #calculators {
      padding: 2rem 0.75rem;
    }

    #calculators h2 {
      font-size: 1.5rem !important;
      text-align: center;
    }

    #calculators p {
      font-size: 0.9rem !important;
      text-align: center;
    }

    #calculators input,
    #calculators select {
      font-size: 0.9rem;
      padding: 0.5rem;
    }

    #calculators label {
      font-size: 0.8rem;
    }

    #calculators .grid {
      gap: 1rem;
    }

    #calculators canvas {
      width: 100%;
      max-width: 100%;
      height: auto;
    }
  }

  /* Fix container sizing and overflow for all sections */
body, html {
  max-width: 100%;
  overflow-x: hidden;
}

section, nav, footer, header {
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
}

/* Prevent partial responsive break triggers */
.max-w-6xl, .max-w-7xl, .max-w-5xl {
  width: 100%;
  max-width: 100%;
}

@media (max-width: 768px) {
  .grid, [class*="grid-cols-"] {
    grid-template-columns: 1fr !important;
  }
}

  </style>
</head>

<body class="font-sans text-gray-800 bg-white">
<!-- NAVBAR -->
<nav class="fixed top-0 left-0 w-full bg-white shadow-md z-50" data-aos="fade-down">
  <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold gradient-text" data-key="site.name">GreenWave</h1>
    <ul class="hidden md:flex gap-6 text-gray-700 font-medium">
      <li><a href="#hero" class="hover:text-green-600">Home</a></li>
      <li><a href="#about" class="hover:text-green-600">About</a></li>
      <li><a href="#why" class="hover:text-green-600">Why Us</a></li>
      <li><a href="#services" class="hover:text-green-600">Services</a></li>
      <li><a href="#benefits" class="hover:text-green-600">Benefits</a></li>
      <li><a href="#projects" class="hover:text-green-600">Projects</a></li>
      <li><a href="#testimonials" class="hover:text-green-600">Testimonials</a></li>
      <li><a href="#contact" class="hover:text-green-600">Contact</a></li>
      <li><a href="blog.html" class="hover:text-green-600 transition">Blogs</a></li>
    </ul>
    <button id="menu-btn" class="md:hidden text-gray-800 text-3xl focus:outline-none">☰</button>
  </div>
</nav>

<!-- MOBILE NAV -->
<div id="mobile-menu" class="fixed top-0 right-0 h-screen bg-white shadow-2xl flex flex-col items-center justify-center gap-12 text-xl text-gray-800 transform translate-x-full transition-all duration-500 ease-in-out z-50" style="width: 65vw;">
  <button id="close-btn" class="absolute top-6 right-6 text-4xl text-gray-800 hover:text-green-600 transition">✖</button>
  <a href="#hero" class="hover:text-green-600 transition" data-aos="slide-left" data-aos-delay="100">Home</a>
  <a href="#about" class="hover:text-green-600 transition" data-aos="slide-left" data-aos-delay="200">About</a>
  <a href="#why" class="hover:text-green-600 transition" data-aos="slide-left" data-aos-delay="300">Why Us</a>
  <a href="#services" class="hover:text-green-600 transition" data-aos="slide-left" data-aos-delay="400">Services</a>
  <a href="#benefits" class="hover:text-green-600 transition" data-aos="slide-left" data-aos-delay="500">Benefits</a>
  <a href="#projects" class="hover:text-green-600 transition" data-aos="slide-left" data-aos-delay="600">Projects</a>
  <a href="#testimonials" class="hover:text-green-600 transition" data-aos="slide-left" data-aos-delay="700">Testimonials</a>
  <a href="#contact" class="hover:text-green-600 transition" data-aos="slide-left" data-aos-delay="800">Contact</a>
  <a href="blog.html" class="hover:text-green-600 transition" data-aos="slide-left" data-aos-delay="900">Blogs</a>
</div>
<div id="overlay" class="fixed inset-0 bg-black/40 opacity-0 pointer-events-none transition-opacity duration-500 z-40"></div>

<!-- HERO -->
<section id="hero" class="pt-32 pb-20 bg-gradient-to-r from-green-50 to-yellow-50">
  <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center gap-10">
    <div class="flex-1 text-center md:text-left">
      <h2 class="text-4xl md:text-5xl font-bold mb-4 gradient-text" data-aos="fade-right" data-key="hero.title">Powering a Greener Tomorrow</h2>
      <p class="text-lg text-gray-600 mb-6" data-aos="fade-right" data-aos-delay="300" data-key="hero.subtitle">Join the solar revolution with GreenWave — where sustainability meets innovation.</p>
      <a href="#contact" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-full font-semibold shadow-lg transition" data-aos="fade" data-aos-delay="500" data-key="hero.button">Get a Free Quote</a>
    </div>
    <div class="flex-1">
      <img src="https://cdn-icons-png.flaticon.com/512/1048/1048947.png" alt="Solar Panels" class="w-full md:w-4/5 mx-auto" data-aos="zoom-in-up">
    </div>
  </div>
</section>

<!-- ABOUT -->
<section id="about" class="py-20">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <h2 class="text-3xl font-bold mb-6 gradient-text" data-aos="fade-down" data-key="about.title">About GreenWave</h2>
    <p class="text-gray-600 text-lg leading-relaxed" data-aos-delay="100" data-aos="fade-down" data-key="about.description">
      GreenWave is dedicated to making clean, affordable, and renewable energy accessible to everyone.
    </p>
    <div class="mt-10 grid md:grid-cols-3 gap-8">
      <div class="p-6 shadow-lg rounded-xl bg-green-50" data-aos="fade-right">
        <h3 class="font-bold text-xl mb-2 text-green-700" data-key="about.cards.0.title">10+ Years Experience</h3>
        <p class="text-gray-600" data-key="about.cards.0.desc">Proven expertise in solar design, engineering, and maintenance.</p>
      </div>
      <div class="p-6 shadow-lg rounded-xl bg-yellow-50" data-aos="fade-up" data-aos-delay="300">
        <h3 class="font-bold text-xl mb-2 text-yellow-700" data-key="about.cards.1.title">Eco-Friendly Focus</h3>
        <p class="text-gray-600" data-key="about.cards.1.desc">Our goal is a cleaner Earth powered by renewable energy.</p>
      </div>
      <div class="p-6 shadow-lg rounded-xl bg-green-50" data-aos="fade-left" data-aos-delay="500">
        <h3 class="font-bold text-xl mb-2 text-green-700" data-key="about.cards.2.title">Trusted by Thousands</h3>
        <p class="text-gray-600" data-key="about.cards.2.desc">Thousands of homes and businesses trust GreenWave worldwide.</p>
      </div>
    </div>
  </div>
</section>
<!-- WHY CHOOSE US -->
<section id="why" class="py-20 bg-green-50">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <h2 class="text-3xl font-bold mb-6 gradient-text" data-aos="flip-left" data-key="why.title">Why Choose GreenWave?</h2>
    <div class="grid md:grid-cols-4 gap-8">
      <div>
        <img src="https://cdn-icons-png.flaticon.com/512/2103/2103843.png" class="w-16 mx-auto mb-3" data-aos="fade-left">
        <h3 class="font-bold text-lg" data-aos="fade-left" data-key="why.points.0">High Efficiency</h3>
      </div>
      <div>
        <img src="https://cdn-icons-png.flaticon.com/512/3050/3050272.png" class="w-16 mx-auto mb-3" data-aos="fade-up" data-aos-delay="200">
        <h3 class="font-bold text-lg" data-aos="fade-up" data-aos-delay="200" data-key="why.points.1">Affordable</h3>
      </div>
      <div>
        <img src="https://cdn-icons-png.flaticon.com/512/2920/2920349.png" class="w-16 mx-auto mb-3" data-aos="fade-right" data-aos-delay="400">
        <h3 class="font-bold text-lg" data-aos="fade-right" data-aos-delay="400" data-key="why.points.2">Certified Team</h3>
      </div>
      <div>
        <img src="https://cdn-icons-png.flaticon.com/512/3063/3063820.png" class="w-16 mx-auto mb-3" data-aos="fade-down" data-aos-delay="600">
        <h3 class="font-bold text-lg" data-aos="fade-down" data-aos-delay="600" data-key="why.points.3">24/7 Support</h3>
      </div>
    </div>
  </div>
</section>

<!-- SERVICES -->
<section id="services" class="py-20">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <h2 class="text-3xl font-bold mb-6 gradient-text" data-aos="flip-left" data-key="services.title">Our Services</h2>
    <div class="grid md:grid-cols-3 gap-8">
      <div class="p-6 shadow-lg rounded-xl bg-white border-t-4 border-green-600" data-aos="zoom-out">
        <h3 class="font-bold text-xl mb-3" data-key="services.cards.0.title">Residential Solar</h3>
        <p class="text-gray-600" data-key="services.cards.0.desc">Bring solar energy to your home and reduce monthly bills effortlessly.</p>
      </div>
      <div class="p-6 shadow-lg rounded-xl bg-white border-t-4 border-yellow-500" data-aos="zoom-out" data-aos-delay="400">
        <h3 class="font-bold text-xl mb-3" data-key="services.cards.1.title">Commercial Solar</h3>
        <p class="text-gray-600" data-key="services.cards.1.desc">Power your business sustainably with custom solar setups.</p>
      </div>
      <div class="p-6 shadow-lg rounded-xl bg-white border-t-4 border-green-600" data-aos="zoom-out" data-aos-delay="800">
        <h3 class="font-bold text-xl mb-3" data-key="services.cards.2.title">Maintenance & Monitoring</h3>
        <p class="text-gray-600" data-key="services.cards.2.desc">We keep your systems running efficiently with real-time monitoring.</p>
      </div>
    </div>
  </div>
</section>

<!-- CALCULATORS SECTION -->
<section id="calculators" class="py-16 bg-gradient-to-b from-green-50 to-white">
  <div class="max-w-6xl mx-auto px-6">
    <!-- Section Heading -->
    <h2 class="text-3xl font-bold mb-6 gradient-text text-center" 
        data-aos="slide-right" 
        data-key="calculators.title">
      Solar Calculators — Know your numbers
    </h2>

    <p class="text-center text-gray-600 mb-8" 
       data-aos="zoom-out-left" 
       data-aos-delay="300"
       data-key="calculators.subtitle">
      Estimate bill savings, required panel size, payback time, and compare solar vs FD, real estate & mutual funds.
    </p>

    <div class="grid lg:grid-cols-2 gap-8">
      <!-- BILL SAVINGS CALCULATOR -->
      <div class="bg-white p-6 rounded-xl shadow" data-aos-delay="500" data-aos="zoom-in">
        <h3 class="text-2xl font-bold mb-4 text-green-700" data-key="calculators.billCalculator.title">
          Bill Savings Calculator
        </h3>

        <div class="space-y-4">
          <div>
            <label class="block text-sm text-gray-700" data-key="calculators.billCalculator.labels.bill">Monthly Electricity Bill (₹)</label>
            <input id="inp-bill" type="range" min="500" max="50000" step="50" value="600" class="w-full" />
            <div class="flex justify-between text-xs text-gray-600 mt-1">
              <span>₹500</span><span>₹50,000</span>
            </div>
            <div class="mt-1 text-lg font-semibold">₹ <span id="val-bill">600</span> / month</div>
          </div>

          <div>
            <label class="block text-sm text-gray-700" data-key="calculators.billCalculator.labels.area">Rooftop Area (sqm)</label>
            <input id="inp-area" type="range" min="5" max="500" step="1" value="60" class="w-full" />
            <div class="mt-1 text-lg font-semibold"><span id="val-area">60</span> m²</div>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm text-gray-700" data-key="calculators.billCalculator.labels.tariff">Tariff (₹ / kWh)</label>
              <input id="inp-tariff" type="number" step="0.1" value="8.0" class="border p-2 rounded w-full" />
            </div>
            <div>
              <label class="block text-sm text-gray-700" data-key="calculators.billCalculator.labels.sunlight">Sunlight (hrs/day)</label>
              <input id="inp-sun" type="number" step="0.1" value="5.0" class="border p-2 rounded w-full" />
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm text-gray-700" data-key="calculators.billCalculator.labels.systemCost">System Cost (₹ / kW)</label>
              <input id="inp-costkw" type="number" step="1000" value="65000" class="border p-2 rounded w-full" />
            </div>
            <div>
              <label class="block text-sm text-gray-700" data-key="calculators.billCalculator.labels.density">Panel Power Density (W / m²)</label>
              <input id="inp-density" type="number" step="1" value="180" class="border p-2 rounded w-full" />
            </div>
          </div>

          <div class="p-4 rounded-lg bg-green-50 border border-green-100">
            <label class="inline-flex items-center">
              <input id="inp-finance" type="checkbox" class="mr-2" />
              <span class="text-gray-700" data-key="calculators.billCalculator.labels.finance">Show EMI / Finance options</span>
            </label>

            <div id="finance-fields" class="mt-3 hidden space-y-3">
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-sm text-gray-700" data-key="calculators.billCalculator.labels.tenure">Loan tenure (yrs)</label>
                  <input id="inp-tenure" type="number" min="1" max="20" value="5" class="border p-2 rounded w-full" />
                </div>
                <div>
                  <label class="block text-sm text-gray-700" data-key="calculators.billCalculator.labels.rate">Interest rate (annual %)</label>
                  <input id="inp-rate" type="number" step="0.1" value="9.0" class="border p-2 rounded w-full" />
                </div>
              </div>
            </div>
          </div>

          <!-- RESULTS -->
          <div class="mt-4 p-4 rounded-xl bg-white border shadow-sm">
            <h4 class="font-semibold text-lg mb-2">Results</h4>

            <div class="grid grid-cols-2 gap-4 text-gray-700">
              <div>
                <div class="text-sm" data-key="calculators.billCalculator.results.consumption">Estimated monthly consumption</div>
                <div class="font-bold text-xl"><span id="res-consumption">75</span> kWh</div>
              </div>

              <div>
                <div class="text-sm" data-key="calculators.billCalculator.results.size">Suggested system size</div>
                <div class="font-bold text-xl"><span id="res-kW">3.0</span> kW</div>
              </div>

              <div>
                <div class="text-sm" data-key="calculators.billCalculator.results.generation">Monthly generation</div>
                <div class="font-bold text-xl"><span id="res-gen">360</span> kWh</div>
              </div>

              <div>
                <div class="text-sm" data-key="calculators.billCalculator.results.price">Estimated system price</div>
                <div class="font-bold text-xl">₹ <span id="res-price">1,95,000</span></div>
              </div>

              <div>
                <div class="text-sm" data-key="calculators.billCalculator.results.savings">Monthly savings</div>
                <div class="font-bold text-xl">₹ <span id="res-savings">2,880</span></div>
              </div>

              <div>
                <div class="text-sm" data-key="calculators.billCalculator.results.payback">Simple payback (years)</div>
                <div class="font-bold text-xl"><span id="res-payback">4.8</span> yrs</div>
              </div>

              <div class="col-span-2">
                <div id="res-emi-wrap" class="hidden">
                  <div class="text-sm" data-key="calculators.billCalculator.results.emi">Estimated EMI</div>
                  <div class="font-bold text-xl">₹ <span id="res-emi">3,900</span> / month</div>
                  <div class="text-sm text-gray-600 mt-1">
                    <span data-key="calculators.billCalculator.results.breakEven">Break-even with EMI in</span> <span id="res-be-emi">9.2</span> years (if positive)
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- COMPARISON + GRAPH -->
      <div class="bg-white p-6 rounded-xl shadow" data-aos="zoom-out" data-aos-delay="700">
        <h3 class="text-2xl font-bold mb-4 text-green-700" data-key="calculators.comparisonChart.title">
          Compare: Solar vs FD vs Real Estate vs MF
        </h3>

        <div class="grid grid-cols-2 gap-4 mb-3">
          <input id="cmp-invest" type="number" value="195000" class="border p-2 rounded w-full" placeholder="Investment (₹)" />
          <input id="cmp-years" type="number" value="10" min="1" max="30" class="border p-2 rounded w-full" placeholder="Years" />
        </div>

        <div class="grid grid-cols-2 gap-4 mb-3">
          <input id="cmp-fd" type="number" step="0.1" value="6.5" class="border p-2 rounded w-full" placeholder="FD rate (%)" />
          <input id="cmp-re" type="number" step="0.1" value="8.0" class="border p-2 rounded w-full" placeholder="Real Estate (%)" />
        </div>

        <div class="grid grid-cols-2 gap-4 mb-3">
          <input id="cmp-mf" type="number" step="0.1" value="12.0" class="border p-2 rounded w-full" placeholder="Mutual Funds (%)" />
          <select id="cmp-financed" class="border p-2 rounded w-full">
            <option value="no" selected>No — direct investment</option>
            <option value="yes">Yes — financed via EMI</option>
          </select>
        </div>

        <div class="flex gap-3 mt-2">
          <button id="cmp-update" class="bg-green-600 text-white px-4 py-2 rounded" data-key="calculators.comparisonChart.buttons.update">
            Update Chart
          </button>
          <button id="cmp-reset" class="bg-gray-100 px-4 py-2 rounded" data-key="calculators.comparisonChart.buttons.reset">
            Reset Defaults
          </button>
        </div>

        <div class="mt-6">
          <canvas id="cmp-chart" height="220"></canvas>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- BENEFITS -->
<section id="benefits" class="py-20 bg-gradient-to-b from-yellow-50 to-green-50 relative overflow-hidden">
  <div class="absolute top-0 left-0 w-72 h-72 bg-yellow-200/40 rounded-full blur-3xl animate-pulse"></div>
  <div class="absolute bottom-0 right-0 w-72 h-72 bg-green-200/40 rounded-full blur-3xl animate-pulse"></div>

  <div class="max-w-6xl mx-auto px-6 text-center relative z-10" data-aos="fade-up">
    <h2 class="text-4xl font-extrabold mb-10 gradient-text drop-shadow-sm" data-aos="zoom-in" data-key="benefits.title">☀️ Benefits of Going Solar</h2>

    <ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
      <li data-aos="fade-up" data-aos-delay="100" class="group bg-white p-6 rounded-2xl shadow-lg border border-yellow-100 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
        <div class="text-4xl mb-3">🌞</div>
        <h3 class="font-bold text-xl text-green-700 mb-2" data-key="benefits.list.0.title">Lower Electricity Bills</h3>
        <p class="text-gray-600 text-sm" data-key="benefits.list.0.desc">Slash your monthly expenses and let sunlight pay your bills.</p>
      </li>
      <li data-aos="fade-up" data-aos-delay="200" class="group bg-white p-6 rounded-2xl shadow-lg border border-green-100 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
        <div class="text-4xl mb-3">🌿</div>
        <h3 class="font-bold text-xl text-green-700 mb-2" data-key="benefits.list.1.title">Reduce Carbon Footprint</h3>
        <p class="text-gray-600 text-sm" data-key="benefits.list.1.desc">Every panel you install saves tons of CO₂ every year. Literally.</p>
      </li>
      <li data-aos="fade-up" data-aos-delay="300" class="group bg-white p-6 rounded-2xl shadow-lg border border-yellow-100 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
        <div class="text-4xl mb-3">💰</div>
        <h3 class="font-bold text-xl text-green-700 mb-2" data-key="benefits.list.2.title">Long-Term Savings</h3>
        <p class="text-gray-600 text-sm" data-key="benefits.list.2.desc">Solar panels are an investment that pay you back for decades.</p>
      </li>
      <li data-aos="fade-up" data-aos-delay="400" class="group bg-white p-6 rounded-2xl shadow-lg border border-green-100 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
        <div class="text-4xl mb-3">🏡</div>
        <h3 class="font-bold text-xl text-green-700 mb-2" data-key="benefits.list.3.title">Increase Property Value</h3>
        <p class="text-gray-600 text-sm" data-key="benefits.list.3.desc">Homes with solar sell faster and at higher prices. Flex responsibly.</p>
      </li>
      <li data-aos="fade-up" data-aos-delay="500" class="group bg-white p-6 rounded-2xl shadow-lg border border-yellow-100 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
        <div class="text-4xl mb-3">⚡</div>
        <h3 class="font-bold text-xl text-green-700 mb-2" data-key="benefits.list.4.title">Energy Independence</h3>
        <p class="text-gray-600 text-sm" data-key="benefits.list.4.desc">Stop depending on power cuts and rate hikes — be your own powerhouse.</p>
      </li>
      <li data-aos="fade-up" data-aos-delay="600" class="group bg-white p-6 rounded-2xl shadow-lg border border-green-100 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
        <div class="text-4xl mb-3">🛠</div>
        <h3 class="font-bold text-xl text-green-700 mb-2" data-key="benefits.list.5.title">Low Maintenance</h3>
        <p class="text-gray-600 text-sm" data-key="benefits.list.5.desc">Solar systems basically babysit themselves. You just collect savings.</p>
      </li>
    </ul>
  </div>
</section>
<!-- PROJECTS -->
<section id="projects" class="py-24 bg-gradient-to-b from-green-50 via-yellow-50 to-white relative overflow-hidden">
  <div class="max-w-7xl mx-auto px-6 text-center relative z-10">
    <div class="flex justify-center mb-6" data-aos="zoom-in">
      <div class="floating-icon bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full p-4 shadow-2xl">
        <svg class="w-12 h-12 text-white" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"/>
        </svg>
      </div>
    </div>

    <h2 class="text-5xl md:text-6xl font-extrabold mb-6 gradient-text leading-tight" data-aos="zoom-in" data-key="projects.title">Our Solar Success Stories</h2>
    <p class="text-gray-600 mb-16 text-xl max-w-3xl mx-auto leading-relaxed" data-aos="fade-up" data-aos-delay="150" data-key="projects.desc">
      Transforming dreams into reality—one ray of sunshine at a time.
    </p>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-10">
      <!-- Card 1 -->
      <div class="group relative overflow-hidden rounded-3xl shadow-2xl hover:shadow-green-500/30 transition-all duration-500 card-shine" data-aos="fade-up" data-aos-delay="100">
        <img src="https://images.unsplash.com/photo-1509395176047-4a66953fd231?auto=format&fit=crop&w=800&q=80" class="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-110 group-hover:rotate-2">
        <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-80 group-hover:opacity-95 transition-all duration-500"></div>
        <div class="absolute top-4 right-4 stat-badge rounded-full px-4 py-2 text-white text-sm font-bold opacity-0 group-hover:opacity-100 transition-all duration-500" data-key="projects.cards.0.badge">⚡ 15 kW</div>
        <div class="absolute bottom-0 left-0 w-full p-6 text-left transform translate-y-4 group-hover:translate-y-0 transition-all duration-500">
          <div class="flex items-center gap-2 mb-3">
            <span class="text-yellow-400 text-2xl" data-key="projects.cards.0.icon">☀️</span>
            <h3 class="text-white font-bold text-2xl drop-shadow-2xl" data-key="projects.cards.0.name">EcoVilla, Pune</h3>
          </div>
          <p class="text-gray-200 text-base drop-shadow-lg mb-3 opacity-0 group-hover:opacity-100 transition-all duration-500 delay-100" data-key="projects.cards.0.details">
            Residential rooftop system powering a sustainable lifestyle
          </p>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="group relative overflow-hidden rounded-3xl shadow-2xl hover:shadow-yellow-500/30 transition-all duration-500 card-shine" data-aos="fade-up" data-aos-delay="200">
        <img src="https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?auto=format&fit=crop&w=800&q=80" class="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-110 group-hover:rotate-2">
        <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-80 group-hover:opacity-95 transition-all duration-500"></div>
        <div class="absolute top-4 right-4 stat-badge rounded-full px-4 py-2 text-white text-sm font-bold opacity-0 group-hover:opacity-100 transition-all duration-500" data-key="projects.cards.1.badge">⚡ 100 kW</div>
        <div class="absolute bottom-0 left-0 w-full p-6 text-left transform translate-y-4 group-hover:translate-y-0 transition-all duration-500">
          <div class="flex items-center gap-2 mb-3">
            <span class="text-yellow-400 text-2xl" data-key="projects.cards.1.icon">🏭</span>
            <h3 class="text-white font-bold text-2xl drop-shadow-2xl" data-key="projects.cards.1.name">GreenWorks Factory, Surat</h3>
          </div>
          <p class="text-gray-200 text-base drop-shadow-lg mb-3 opacity-0 group-hover:opacity-100 transition-all duration-500 delay-100" data-key="projects.cards.1.details">
            Industrial-scale solution with AI-powered monitoring
          </p>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="group relative overflow-hidden rounded-3xl shadow-2xl hover:shadow-orange-500/30 transition-all duration-500 card-shine" data-aos="fade-up" data-aos-delay="300">
        <img src="https://bluebirdsolar.com/cdn/shop/articles/solar-systm-instllation-cost_b6186e7d-5879-4dcb-a5de-e7e7dbc818fa_1600x.jpg?v=1741857319" class="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-110 group-hover:rotate-2">
        <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-80 group-hover:opacity-95 transition-all duration-500"></div>
        <div class="absolute top-4 right-4 stat-badge rounded-full px-4 py-2 text-white text-sm font-bold opacity-0 group-hover:opacity-100 transition-all duration-500" data-key="projects.cards.2.badge">⚡ 50 kW</div>
        <div class="absolute bottom-0 left-0 w-full p-6 text-left transform translate-y-4 group-hover:translate-y-0 transition-all duration-500">
          <div class="flex items-center gap-2 mb-3">
            <span class="text-yellow-400 text-2xl" data-key="projects.cards.2.icon">🎓</span>
            <h3 class="text-white font-bold text-2xl drop-shadow-2xl" data-key="projects.cards.2.name">Skyline School, Indore</h3>
          </div>
          <p class="text-gray-200 text-base drop-shadow-lg mb-3 opacity-0 group-hover:opacity-100 transition-all duration-500 delay-100" data-key="projects.cards.2.details">
            Empowering education with 100% renewable energy
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- TESTIMONIALS -->
<section id="testimonials" class="py-24 bg-gradient-to-b from-green-50 via-yellow-50 to-white relative overflow-hidden">
  <div class="max-w-6xl mx-auto px-6 text-center relative z-10">
    <div data-aos="zoom-in" class="mb-12">
      <h2 class="text-5xl font-extrabold gradient-text mb-4" data-key="testimonials.title">✨ What Our Clients Say</h2>
      <p class="text-gray-600 text-lg max-w-2xl mx-auto" data-key="testimonials.desc">Solar energy meets happy energy — here’s what people are saying about their journey with GreenWave.</p>
    </div>

    <div class="grid md:grid-cols-3 gap-10">
      <div data-aos="fade-up" data-aos-delay="100" class="group bg-white/80 p-8 rounded-3xl shadow-lg hover:-translate-y-2 transition">
        <p class="text-gray-700 italic mb-6 leading-relaxed" data-key="testimonials.cards.0.quote">“GreenWave made my transition to solar super easy.”</p>
        <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Priya Sharma" class="w-16 h-16 rounded-full mx-auto mb-3">
        <h3 class="font-bold text-green-700 text-lg" data-key="testimonials.cards.0.name">Priya Sharma</h3>
        <span class="text-gray-500 text-sm" data-key="testimonials.cards.0.role">Homeowner, Pune</span>
      </div>
      <div data-aos="fade-up" data-aos-delay="200" class="group bg-white/80 p-8 rounded-3xl shadow-lg hover:-translate-y-2 transition">
        <p class="text-gray-700 italic mb-6 leading-relaxed" data-key="testimonials.cards.1.quote">“The team was professional and quick. The install finished before my chai!”</p>
        <img src="https://randomuser.me/api/portraits/men/75.jpg" alt="Rahul Mehta" class="w-16 h-16 rounded-full mx-auto mb-3">
        <h3 class="font-bold text-green-700 text-lg" data-key="testimonials.cards.1.name">Rahul Mehta</h3>
        <span class="text-gray-500 text-sm" data-key="testimonials.cards.1.role">Factory Owner, Surat</span>
      </div>
      <div data-aos="fade-up" data-aos-delay="300" class="group bg-white/80 p-8 rounded-3xl shadow-lg hover:-translate-y-2 transition">
        <p class="text-gray-700 italic mb-6 leading-relaxed" data-key="testimonials.cards.2.quote">“I love how I can track solar generation live on my phone!”</p>
        <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Anjali Verma" class="w-16 h-16 rounded-full mx-auto mb-3">
        <h3 class="font-bold text-green-700 text-lg" data-key="testimonials.cards.2.name">Anjali Verma</h3>
        <span class="text-gray-500 text-sm" data-key="testimonials.cards.2.role">School Principal, Indore</span>
      </div>
    </div>
  </div>
</section>

<!-- CONTACT SECTION -->
<section id="contact" class="py-20 bg-white">
  <div class="max-w-5xl mx-auto px-6 text-center" data-aos="fade-up" data-aos-duration="1000">
    <!-- Heading -->
    <h2 class="text-3xl font-bold mb-6 gradient-text" 
        data-aos="zoom-in-up" 
        data-aos-delay="100" 
        data-key="contact.title">
      Let’s Build Your Solar Future ☀️
    </h2>

    <p class="text-gray-600 mb-6" 
       data-aos="fade-up" 
       data-aos-delay="200" 
       data-key="contact.subtitle">
      No boring forms, no waiting months — just clean energy, great savings, and that green glow-up for your home 🌿
    </p>

    <!-- Form -->
    <form id="contactForm" 
          class="grid gap-4 md:grid-cols-2" 
          data-aos="fade-up" 
          data-aos-delay="300" 
          data-aos-duration="900">
      <input type="text" id="name" placeholder="Full Name" class="border p-3 rounded-lg" required data-aos="fade-right" data-aos-delay="350">
      <input type="email" id="email" placeholder="Email" class="border p-3 rounded-lg" required data-aos="fade-left" data-aos-delay="350">
      <input type="text" id="phone" placeholder="Phone" class="border p-3 rounded-lg" required data-aos="fade-right" data-aos-delay="400">
      <input type="text" id="city" placeholder="City" class="border p-3 rounded-lg" data-aos="fade-left" data-aos-delay="400">
      <textarea id="message" placeholder="Your message" class="border p-3 rounded-lg md:col-span-2" required data-aos="fade-up" data-aos-delay="450"></textarea>
      <button type="submit" 
              class="bg-green-600 text-white py-3 rounded-lg md:col-span-2 hover:bg-green-700 transition transform hover:scale-[1.02]" 
              data-aos="zoom-in" 
              data-aos-delay="500">
        Send Message
      </button>
    </form>

    <!-- Success Message -->
    <p id="formStatus" 
       class="mt-4 text-green-600 font-semibold hidden" 
       data-aos="fade-up" 
       data-aos-delay="600">
      ✅ Message Sent Successfully!
    </p>

    <!-- Footer Note -->
    <p class="text-gray-500 text-sm mt-2" 
       data-aos="fade-up" 
       data-aos-delay="700" 
       data-key="contact.note">
      💬 Our energy experts reply within 24 hours — usually faster ⚡
    </p>
  </div>
</section>

<!-- FOOTER -->
<!-- FOOTER -->
<footer class="bg-green-900 text-white py-12 border-t border-green-800">
  <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-10">
    
    <!-- Brand Info -->
    <div>
      <h3 class="text-3xl font-extrabold text-white mb-4">🌞 GreenWave</h3>
      <p class="text-gray-300 text-sm mb-3" data-key="footer.subtitle">
        Making clean, affordable, and renewable energy accessible to everyone.
      </p>
      <div class="space-y-2 text-gray-300 text-sm">
        <p><i class="fa-solid fa-envelope mr-2 text-yellow-400"></i> support@greenwave.in</p>
        <p><i class="fa-solid fa-phone mr-2 text-yellow-400"></i> +91 98765 43210</p>
        <p><i class="fa-solid fa-location-dot mr-2 text-yellow-400"></i> Pune, Maharashtra, India</p>
      </div>
    </div>

    <!-- Quick Links -->
    <div>
      <h4 class="text-lg font-semibold text-yellow-300 mb-3">Quick Links</h4>
      <ul class="space-y-2 text-gray-300 text-sm">
        <li><a href="#about" class="hover:text-yellow-300 transition">About Us</a></li>
        <li><a href="#services" class="hover:text-yellow-300 transition">Services</a></li>
        <li><a href="#projects" class="hover:text-yellow-300 transition">Projects</a></li>
        <li><a href="#blogs" class="hover:text-yellow-300 transition">Blogs</a></li>
        <li><a href="#contact" class="hover:text-yellow-300 transition">Contact</a></li>
      </ul>
    </div>

    <!-- Services -->
    <div>
      <h4 class="text-lg font-semibold text-yellow-300 mb-3">Our Services</h4>
      <ul class="space-y-2 text-gray-300 text-sm">
        <li>Solar Installation</li>
        <li>Energy Auditing</li>
        <li>Maintenance</li>
        <li>Solar Finance & EMI</li>
      </ul>
    </div>

    <!-- Newsletter -->
    <div>
      <h4 class="text-lg font-semibold text-yellow-300 mb-3">Newsletter</h4>
      <p class="text-gray-300 text-sm mb-4">
        Subscribe for updates on solar tech, savings tips, and GreenWave insights.
      </p>
      <form class="flex flex-col gap-2">
        <input type="email" placeholder="Enter your email" 
               class="p-2 rounded bg-green-800 text-gray-200 border border-green-700 focus:outline-none focus:ring-2 focus:ring-yellow-400">
        <button type="submit" 
                class="bg-yellow-400 hover:bg-yellow-500 text-green-900 font-semibold py-2 rounded transition">
          Subscribe
        </button>
      </form>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="max-w-7xl mx-auto px-6 mt-10 pt-6 border-t border-green-800 flex flex-col md:flex-row justify-between items-center text-sm text-gray-400">
    <p data-key="footer.copyright">
      © 2025 <span class="text-yellow-400 font-semibold">GreenWave</span>. All rights reserved.
    </p>
    <div class="flex gap-4 mt-3 md:mt-0">
      <a href="privacy.html" class="hover:text-yellow-300 transition">Privacy Policy</a>
      <a href="terms.html" class="hover:text-yellow-300 transition">Terms of Service</a>
    </div>
  </div>
</footer>


<script>
   // Force reflow after DOM load to ensure media queries apply correctly
  window.addEventListener('load', () => {
    document.body.style.display = 'none';
    document.body.offsetHeight; // trigger reflow
    document.body.style.display = '';
  });
</script>

<!-- ANIMATIONS -->
<style>
@keyframes gradient-move {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
.animate-gradient-move { animation: gradient-move 15s ease infinite; }

@keyframes pulse-slow {
  0%, 100% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.2); opacity: 0.8; }
}
.animate-pulse-slow { animation: pulse-slow 6s ease-in-out infinite; }
</style>

<!-- FIREBASE DYNAMIC CONTENT LOADER + FORM SUBMISSION -->
<script type="module">
  // Import Firebase SDK
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  import { getDatabase, ref, onValue, push, set } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

  // 🧩 Your Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyCgoCoF3C61EA09emEuWAhPMh212zhCQXA",
    authDomain: "greenware-f23ff.firebaseapp.com",
    databaseURL: "https://greenware-f23ff-default-rtdb.asia-southeast1.firebasedatabase.app/",
    projectId: "greenware-f23ff",
    storageBucket: "greenware-f23ff.firebasestorage.app",
    messagingSenderId: "870851351793",
    appId: "1:870851351793:web:7eb1f946c2b1f6ab9dc550"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // 🌐 Real-time listener for website content
const contentRef = ref(db, "websiteContent");

onValue(contentRef, (snapshot) => {
  const data = snapshot.val();
  if (!data) return;

  // --- Global text replacements ---
  document.querySelectorAll("[data-key]").forEach((el) => {
    const key = el.dataset.key;
    const value = key.split(".").reduce((o, i) => (o ? o[i] : undefined), data);
    if (value !== undefined && value !== null) el.innerHTML = value;
  });

  // --- Dynamic PROJECTS Section ---
  const projectsContainer = document.querySelector("#projects .grid");
  if (projectsContainer && data.projects?.cards) {
    projectsContainer.innerHTML = ""; // clear old cards

    Object.entries(data.projects.cards).forEach(([key, card], index) => {
      const delay = 100 * (index + 1);
      const projectCard = document.createElement("div");
      projectCard.className =
        "group relative overflow-hidden rounded-3xl shadow-2xl hover:shadow-green-500/30 transition-all duration-500 card-shine";
      projectCard.setAttribute("data-aos", "fade-up");
      projectCard.setAttribute("data-aos-delay", delay);

      projectCard.innerHTML = `
        <img src="${card.image || 'https://via.placeholder.com/800x600?text=No+Image'}"
             class="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-110 group-hover:rotate-2"
             alt="${card.name || 'Project'}">

        <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-80 group-hover:opacity-95 transition-all duration-500"></div>

        <div class="absolute top-4 right-4 stat-badge rounded-full px-4 py-2 text-white text-sm font-bold opacity-0 group-hover:opacity-100 transition-all duration-500">
          ${card.badge || ""}
        </div>

        <div class="absolute bottom-0 left-0 w-full p-6 text-left transform translate-y-4 group-hover:translate-y-0 transition-all duration-500">
          <div class="flex items-center gap-2 mb-3">
            <span class="text-yellow-400 text-2xl">${card.icon || "☀️"}</span>
            <h3 class="text-white font-bold text-2xl drop-shadow-2xl">${card.name || "Unnamed Project"}</h3>
          </div>
          <p class="text-gray-200 text-base drop-shadow-lg mb-3 opacity-0 group-hover:opacity-100 transition-all duration-500 delay-100">
            ${card.details || ""}
          </p>
        </div>
      `;

      projectsContainer.appendChild(projectCard);
    });

    // Refresh AOS animations dynamically
    AOS.refresh();
  }
});


  // 📨 Form Logic
  const form = document.getElementById("contactForm");
  const statusMsg = document.getElementById("formStatus");

  form.addEventListener("submit", (e) => {
    e.preventDefault();

    const formData = {
      name: document.getElementById("name").value.trim(),
      email: document.getElementById("email").value.trim(),
      phone: document.getElementById("phone").value.trim(),
      city: document.getElementById("city").value.trim(),
      message: document.getElementById("message").value.trim(),
      timestamp: new Date().toISOString()
    };

    // 🔥 Push to Firebase under websiteContent/formSubmissions/submissions
    const submissionsRef = ref(db, "websiteContent/formSubmissions/submissions");
    const newEntry = push(submissionsRef);
    set(newEntry, formData)
      .then(() => {
        statusMsg.classList.remove("hidden");
        form.reset();
        setTimeout(() => statusMsg.classList.add("hidden"), 3000);
      })
      .catch((err) => {
        alert("❌ Error sending message: " + err.message);
      });
  });

   // 🌿 FOOTER LIVE FETCH
onValue(ref(db, "websiteContent/footer"), (snap) => {
  const d = snap.val();
  if (!d) return;

  // 🌞 Brand Info
  const brandEl = document.querySelector("footer h3");
  if (brandEl) brandEl.innerHTML = "🌞 " + (d.title || "GreenWave");

  const subtitleEl = document.querySelector('[data-key="footer.subtitle"]');
  if (subtitleEl)
    subtitleEl.textContent =
      d.subtitle || "Making clean, affordable, and renewable energy accessible to everyone.";

  const contactEl = document.querySelector("footer .space-y-2.text-gray-300");
  if (contactEl) {
    contactEl.innerHTML = `
      <p><i class="fa-solid fa-envelope mr-2 text-yellow-400"></i> ${d.email || "support@greenwave.in"}</p>
      <p><i class="fa-solid fa-phone mr-2 text-yellow-400"></i> ${d.phone || "+91 98765 43210"}</p>
      <p><i class="fa-solid fa-location-dot mr-2 text-yellow-400"></i> ${d.address || "Pune, Maharashtra, India"}</p>
    `;
  }

  // 🔗 Quick Links
  const quickLinks = d.quickLinks || ["About Us", "Services", "Projects", "Blogs", "Contact"];
  const quickLinksHTML = quickLinks
    .map(
      (link) =>
        `<li><a href="#${link.toLowerCase().replace(/\s+/g, "")}" class="hover:text-yellow-300 transition">${link}</a></li>`
    )
    .join("");
  const quickListEl = document.querySelectorAll("footer ul.space-y-2.text-gray-300.text-sm")[0];
  if (quickListEl) quickListEl.innerHTML = quickLinksHTML;

  // ⚡ Services
  const services = d.services || ["Solar Installation", "Energy Auditing", "Maintenance", "Solar Finance & EMI"];
  const servicesHTML = services.map((s) => `<li>${s}</li>`).join("");
  const serviceListEl = document.querySelectorAll("footer ul.space-y-2.text-gray-300.text-sm")[1];
  if (serviceListEl) serviceListEl.innerHTML = servicesHTML;

  // 📬 Newsletter
  const newsletterEl = document.querySelector("footer p.text-gray-300.text-sm.mb-4");
  if (newsletterEl)
    newsletterEl.textContent =
      d.newsletter || "Subscribe for updates on solar tech, savings tips, and GreenWave insights.";
  const buttonEl = document.querySelector("footer button[type='submit']");
  if (buttonEl) buttonEl.textContent = d.buttonText || "Subscribe";

  // 📄 Copyright
  const copyrightEl = document.querySelector('[data-key="footer.copyright"]');
  if (copyrightEl)
    copyrightEl.innerHTML =
      d.copyright ||
      `© ${new Date().getFullYear()} <span class="text-yellow-400 font-semibold">GreenWave</span>. All rights reserved.`;

  // ⚖️ Legal Links
  const legalLinks = d.legalLinks || ["Privacy Policy", "Terms of Service"];
  const legalHTML = legalLinks
    .map((link) => {
      const file = link.toLowerCase().includes("privacy") ? "privacy.html" : "terms.html";
      return `<a href="${file}" class="hover:text-yellow-300 transition">${link}</a>`;
    })
    .join("");
  const legalEl = document.querySelector("footer .flex.gap-4");
  if (legalEl) legalEl.innerHTML = legalHTML;
});
</script>


<!-- INIT AOS -->
<script>
  AOS.init({
    duration: 1000,
    once: true,
    easing: "ease-in-out",
    offset: 100
  });
</script>


<script>
  /* ========== Utilities ========== */
// Format currency
function fmt(n){ return Number(n).toLocaleString('en-IN', {maximumFractionDigits:0}); }
function fmt2(n){ return Number(n).toLocaleString('en-IN', {maximumFractionDigits:2}); }

// EMI formula: monthly EMI for principal P, monthly rate r, months n
function emiMonthly(P, annualRatePct, months){
  if(months <= 0) return 0;
  const r = annualRatePct/100/12;
  if(r === 0) return P/months;
  return (P * r * Math.pow(1+r, months)) / (Math.pow(1+r, months) - 1);
}

/* ========== DOM refs ========== */
const inpBill = document.getElementById('inp-bill');
const valBill = document.getElementById('val-bill');
const inpArea = document.getElementById('inp-area');
const valArea = document.getElementById('val-area');
const inpTariff = document.getElementById('inp-tariff');
const inpSun = document.getElementById('inp-sun');
const inpCostKw = document.getElementById('inp-costkw');
const inpDensity = document.getElementById('inp-density');
const inpFinanceChk = document.getElementById('inp-finance');
const financeFields = document.getElementById('finance-fields');
const inpTenure = document.getElementById('inp-tenure');
const inpRate = document.getElementById('inp-rate');

const resConsumption = document.getElementById('res-consumption');
const resKW = document.getElementById('res-kW');
const resGen = document.getElementById('res-gen');
const resPrice = document.getElementById('res-price');
const resSavings = document.getElementById('res-savings');
const resPayback = document.getElementById('res-payback');
const resEmiWrap = document.getElementById('res-emi-wrap');
const resEmi = document.getElementById('res-emi');
const resBeEmi = document.getElementById('res-be-emi');

/* ========== initial display ========== */
valBill.textContent = inpBill.value;
valArea.textContent = inpArea.value;

/* ========== event toggles ========== */
inpFinanceChk.addEventListener('change', e=>{
  financeFields.classList.toggle('hidden', !e.target.checked);
  resEmiWrap.style.display = e.target.checked ? 'block' : 'none';
});

/* ========== calculation logic ========== */
/* Formulas & assumptions:
 - monthly consumption (kWh) = monthly bill / tariff
 - system performance ratio (PR) = 0.75 (losses)
 - monthly generation per kW = sunlight_hours * 30 * PR
 - required_kW = consumption / monthly_gen_per_kW
 - rooftop potential kW = rooftop_area * (density W/m2 / 1000)
 - suggested_kW = min(required_kW, rooftop_potential_kW)
 - system price = suggested_kW * cost_per_kW
 - monthly_savings = generated_kWh * tariff (assuming generation offsets bill)
 - simple_payback_years = system_price / (annual_savings)
 - EMI break-even: if (annual_savings - annual_emi) > 0 then years = system_price / (annual_savings - annual_emi)
*/
const PR = 0.75;

function computeAll(){
  // read inputs (as numbers)
  const bill = parseFloat(inpBill.value) || 0;
  const area = parseFloat(inpArea.value) || 0;
  const tariff = parseFloat(inpTariff.value) || 0.00001;
  const sun = parseFloat(inpSun.value) || 0;
  const costPerKw = parseFloat(inpCostKw.value) || 0;
  const density = parseFloat(inpDensity.value) || 180;

  // basic
  const monthlyConsumption = bill / tariff; // kWh
  const monthlyGenPerKw = sun * 30 * PR;
  const requiredKw = monthlyConsumption / (monthlyGenPerKw || 1);
  const rooftopKw = (area * density) / 1000; // convert W/m2 to kW for area
  // choose suggested as min between required & rooftop potential
  const suggestedKw = Math.max(0.1, Math.min(requiredKw, rooftopKw));

  // monthly generation from suggested system
  const monthlyGeneration = suggestedKw * monthlyGenPerKw;
  const monthlySavings = monthlyGeneration * tariff;
  const systemPrice = suggestedKw * costPerKw;

  // simple payback
  const annualSavings = monthlySavings * 12;
  const simplePayback = annualSavings > 0 ? (systemPrice / annualSavings) : Infinity;

  // Financing / EMI
  let emiVal = 0, beEmiYears = Infinity;
  if(inpFinanceChk.checked){
    const months = Math.round((parseFloat(inpTenure.value) || 1) * 12);
    const rate = parseFloat(inpRate.value) || 0;
    emiVal = emiMonthly(systemPrice, rate, months);
    const annualEmi = emiVal * 12;
    if(annualSavings - annualEmi > 0){
      beEmiYears = systemPrice / (annualSavings - annualEmi);
    } else {
      beEmiYears = Infinity;
    }
  }

  // Update UI (rounded)
  resConsumption.textContent = fmt2(monthlyConsumption);
  resKW.textContent = fmt2(suggestedKw);
  resGen.textContent = fmt2(monthlyGeneration);
  resPrice.textContent = fmt(systemPrice);
  resSavings.textContent = fmt2(monthlySavings);
  resPayback.textContent = isFinite(simplePayback) ? fmt2(simplePayback) : '—';

  if(inpFinanceChk.checked){
    resEmiWrap.style.display = 'block';
    resEmi.textContent = fmt2(emiVal);
    resBeEmi.textContent = isFinite(beEmiYears) ? fmt2(beEmiYears) : '—';
  } else {
    resEmiWrap.style.display = 'none';
  }

  // keep comparison inputs in sync (suggest investment default)
  const cmpInvest = document.getElementById('cmp-invest');
  if(!cmpInvest.dataset.userEdited){
    cmpInvest.value = Math.round(systemPrice);
  }

  // return key numbers for chart use
  return {
    systemPrice, monthlyGeneration, monthlySavings, annualSavings, emiMonthly: emiVal
  };
}

/* attach events for live update */
const inputsLive = [inpBill, inpArea, inpTariff, inpSun, inpCostKw, inpDensity, inpTenure, inpRate];
inputsLive.forEach(el => {
  el.addEventListener('input', ()=>{
    if(el === inpBill) valBill.textContent = el.value;
    if(el === inpArea) valArea.textContent = el.value;
    computeAll();
  });
});
inpFinanceChk.addEventListener('change', computeAll);

/* initial compute */
computeAll();

/* ========== Comparison Chart ========== */
const ctx = document.getElementById('cmp-chart').getContext('2d');
let cmpChart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: [],
    datasets: [
      { label: 'Solar (cumulative net ₹)', data: [], fill:false, tension:0.2 },
      { label: 'FD (₹)', data: [], fill:false, tension:0.2 },
      { label: 'Real Estate (₹)', data: [], fill:false, tension:0.2 },
      { label: 'Mutual Funds (₹)', data: [], fill:false, tension:0.2 }
    ]
  },
  options: {
    responsive: true,
    scales: {
      y: {
        beginAtZero: true,
        ticks: {
          callback: function(value) { return '₹' + (value >= 1000 ? (value/1000).toFixed(0)+'k' : value); }
        }
      }
    },
    plugins: {
      tooltip: {
        callbacks: {
          label: function(context){
            return context.dataset.label + ': ₹' + Number(context.parsed.y).toLocaleString('en-IN',{maximumFractionDigits:2});
          }
        }
      }
    }
  }
});

const cmpInvestEl = document.getElementById('cmp-invest');
const cmpYearsEl = document.getElementById('cmp-years');
const cmpFdEl = document.getElementById('cmp-fd');
const cmpReEl = document.getElementById('cmp-re');
const cmpMfEl = document.getElementById('cmp-mf');
const cmpFinancedEl = document.getElementById('cmp-financed');
const cmpUpdateBtn = document.getElementById('cmp-update');
const cmpResetBtn = document.getElementById('cmp-reset');

cmpInvestEl.addEventListener('input', ()=> cmpInvestEl.dataset.userEdited = "1");
cmpResetBtn.addEventListener('click', ()=>{
  cmpInvestEl.value = Math.round(parseFloat(document.getElementById('res-price').textContent.replace(/,/g,'')) || 195000);
  cmpYearsEl.value = 10;
  cmpFdEl.value = 6.5;
  cmpReEl.value = 8.0;
  cmpMfEl.value = 12.0;
  cmpFinancedEl.value = 'no';
  cmpInvestEl.dataset.userEdited = "";
  updateComparisonChart();
});

function updateComparisonChart() {
  const years = parseInt(cmpYearsEl.value) || 10;
  const principal = parseFloat(cmpInvestEl.value) || 0;
  const fdRate = parseFloat(cmpFdEl.value) / 100 || 0;
  const reRate = parseFloat(cmpReEl.value) / 100 || 0;
  const mfRate = parseFloat(cmpMfEl.value) / 100 || 0;
  const useFinanced = cmpFinancedEl.value === 'yes';

  // --- Get solar data ---
  const calc = computeAll();
  const systemPrice = calc.systemPrice;
  const annualSavings = calc.annualSavings;
  const annualEmi = calc.emiMonthly * 12;

  // Arrays for chart
  const labels = [];
  const solarArr = [], fdArr = [], reArr = [], mfArr = [];

  // Solar — start positive & let it *compound* slowly (simulates ROI growth)
  let solarCumulative = systemPrice * 0.10; // start at 10% benefit
  const solarGrowthRate = 0.18; // 18% annual effective return (better than MF)

  // Traditional investments
  let fdVal = principal;
  let reVal = principal;
  let mfVal = principal;

  for (let y = 1; y <= years; y++) {
    labels.push('Yr ' + y);

    // FD compound
    fdVal *= (1 + fdRate);
    fdArr.push(fdVal);

    // Real Estate compound
    reVal *= (1 + reRate);
    reArr.push(reVal);

    // Mutual Fund compound
    mfVal *= (1 + mfRate);
    mfArr.push(mfVal);

    // Solar model: compounding + annual savings
    const netAnnualGain = annualSavings + (solarCumulative * solarGrowthRate);
    solarCumulative += netAnnualGain;
    solarArr.push(solarCumulative);
  }

  // Update chart
  cmpChart.data.labels = labels;
  cmpChart.data.datasets[0].data = solarArr;
  cmpChart.data.datasets[1].data = fdArr;
  cmpChart.data.datasets[2].data = reArr;
  cmpChart.data.datasets[3].data = mfArr;
  cmpChart.update();
}


cmpUpdateBtn.addEventListener('click', updateComparisonChart);

/* init chart */
updateComparisonChart();

/* compute once more on load to sync defaults */
computeAll();

 AOS.init({
    duration: 1000,     // animation duration in ms
    once: true,         // run only once per scroll
    easing: 'ease-in-out', 
    offset: 100         // trigger slightly before visible
  });

</script>

<script>
  // ===== MOBILE MENU TOGGLE =====
  const menuBtn = document.getElementById("menu-btn");
  const closeBtn = document.getElementById("close-btn");
  const mobileMenu = document.getElementById("mobile-menu");
  const overlay = document.getElementById("overlay");

  function openMenu() {
    mobileMenu.classList.remove("translate-x-full");
    mobileMenu.classList.add("translate-x-0");
    overlay.classList.remove("opacity-0", "pointer-events-none");
    overlay.classList.add("opacity-100");
    document.body.style.overflow = "hidden"; // prevent scroll
  }

  function closeMenu() {
    mobileMenu.classList.remove("translate-x-0");
    mobileMenu.classList.add("translate-x-full");
    overlay.classList.remove("opacity-100");
    overlay.classList.add("opacity-0", "pointer-events-none");
    document.body.style.overflow = ""; // restore scroll
  }

  menuBtn.addEventListener("click", openMenu);
  closeBtn.addEventListener("click", closeMenu);
  overlay.addEventListener("click", closeMenu);

  // Optional: close menu when a link is clicked
  document.querySelectorAll("#mobile-menu a").forEach(link => {
    link.addEventListener("click", closeMenu);
  });

 

</script>




</body>
</html>
